{% extends 'base.html' %}

{% block title %}é¦–é¡µ{% endblock %}

{% block main %}
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="text-center mb-5">
        <h1 class="page-title">ğŸ“š ç²¾é€‰åšå®¢</h1>
        <p class="text-muted fs-5">æ¢ç´¢çŸ¥è¯†çš„æµ·æ´‹ï¼Œåˆ†äº«ä½ çš„æ€æƒ³</p>
    </div>

    <!-- åšå®¢åˆ—è¡¨ -->
    {% if blogs %}
        <div class="row g-4">
            {% for blog in blogs %}
                <div class="col-12 col-md-6 col-lg-4">
                    <article class="blog-card animate-fade-in-up" style="animation-delay: {{ forloop.counter0|divisibleby:3|yesno:"0,0.1,0.2" }}s">
                        <!-- å¡ç‰‡å¤´éƒ¨ -->
                        <div class="blog-card-header">
                            <h2 class="blog-card-title">
                                <a href="{% url 'blog:blog_detail' blog_id=blog.id %}">
                                    {{ blog.title }}
                                </a>
                            </h2>
                        </div>

                        <!-- å¡ç‰‡å†…å®¹ -->
                        <div class="blog-card-body">
                            <p class="mb-0">{{ blog.content|striptags|truncatechars:150 }}</p>
                        </div>

                        <!-- å¡ç‰‡åº•éƒ¨ -->
                        <div class="blog-card-footer">
                            <div class="author-info">
                                <img src="{% static 'image/avatar.webp' %}"
                                     alt="{{ blog.author.username }}"
                                     class="author-avatar">
                                <span class="fw-semibold">{{ blog.author.username }}</span>
                            </div>
                            <div class="text-muted">
                                <small>{{ blog.pub_time|date:"mæœˆdæ—¥" }}</small>
                            </div>
                        </div>
                    </article>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <!-- ç©ºçŠ¶æ€ -->
        <div class="empty-state">
            <div class="empty-state-icon">ğŸ“</div>
            <p class="empty-state-text">æš‚æ— åšå®¢</p>
            <p class="text-muted">æˆä¸ºç¬¬ä¸€ä¸ªåˆ†äº«çŸ¥è¯†çš„äººå§ï¼</p>
            <a href="{% url 'blog:pub_blog' %}" class="btn btn-modern-primary mt-3">
                âœï¸ å‘å¸ƒç¬¬ä¸€ç¯‡åšå®¢
            </a>
        </div>
    {% endif %}
{% endblock %}
